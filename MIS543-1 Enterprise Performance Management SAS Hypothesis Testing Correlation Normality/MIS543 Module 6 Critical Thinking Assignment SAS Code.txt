* MIS543 Module 6 Critical Thinking Assignment - Lawrence Wison;
DATA CLOTHING;
INFILE '/folders/myfolders/clothing_store_mod6_preprocessed.txt' DLM=',' DSD FIRSTOBS=2;
INPUT Customer_ID $ Zip_Code $ Number_of_Visits CC_Card GMPCNT ClusType $ Tot_Spend Sales_per_Visit;
If ClusType = 10 then Clus_10 = 1; else Clus_10 = 0;
If ClusType = 1 then Clus_1 = 1; else Clus_1 = 0;
If ClusType = 4 then Clus_4 = 1; else Clus_4 = 0;
If ClusType = 16 then Clus_16 = 1; else Clus_16 = 0;
If ClusType = 8 then Clus_8 = 1; else Clus_8 = 0;
If ClusType = 15 then Clus_15 = 1; else Clus_15 = 0;
If ClusType = 10 or ClusType = 1 or ClusType = 4 or ClusType = 16 or ClusType = 8 or ClusType = 15 then Clus_Other = 0; else Clus_Other = 1;
If Tot_Spend > 473 then Tot_Category = 1; else Tot_Category = 0;
PROC PRINT DATA = CLOTHING (OBS = 50);
TITLE 'Clothing Data Import Review';
RUN;
PROC SORT DATA = CLOTHING; BY DESCENDING Tot_Spend;
PROC PRINT DATA = CLOTHING (OBS = 12); VAR Customer_ID ClusType Tot_Spend;
TITLE 'Customers - Big Spenders';
RUN;
PROC SORT DATA = CLOTHING; BY Tot_Spend;
PROC PRINT DATA = CLOTHING (OBS = 12); VAR Customer_ID ClusType Tot_Spend;
TITLE 'Customers - Low Spenders';
RUN;
PROC SORT DATA = CLOTHING; BY DESCENDING Number_of_Visits;
PROC PRINT DATA = CLOTHING (OBS = 12); VAR Customer_ID ClusType Number_of_Visits;
TITLE 'Customers - High Traffic';
RUN;
PROC SORT DATA = CLOTHING; BY Number_of_Visits;
PROC PRINT DATA = CLOTHING (OBS = 12); VAR Customer_ID ClusType Number_of_Visits;
TITLE 'Customers - Low Traffic';
RUN;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit;
TITLE 'Total Population Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_1;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_1; WHERE Clus_1 = 1;
TITLE 'Cluster 1 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_4;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit;  BY Clus_4; WHERE Clus_4 = 1;
TITLE 'Cluster 4 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_8;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_8; WHERE Clus_8 = 1;
TITLE 'Cluster 8 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_10;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_10; WHERE Clus_10 = 1;
TITLE 'Cluster 10 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_15;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_15; WHERE Clus_15 = 1;
TITLE 'Cluster 15 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_16;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_16; WHERE Clus_16 = 1;
TITLE 'Cluster 16 Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY Clus_Other;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY Clus_Other; WHERE Clus_Other = 1;
TITLE 'Cluster Other Descriptive Statistics';
RUN;
PROC SORT DATA = CLOTHING; BY CC_Card;
PROC MEANS DATA = CLOTHING N NMISS MEAN MEDIAN MODE STDDEV MIN MAX SUM; VAR Number_of_Visits GMPCNT Tot_Spend Sales_per_Visit; BY CC_Card; WHERE CC_Card = 1;
TITLE 'Credit Card Descriptive Statistics';
RUN;
PROC SGPLOT DATA = CLOTHING;
HBAR ClusType/RESPONSE=Tot_Spend STAT=SUM; WHERE ClusType = '1' or ClusType = '4' or ClusType = '8' or ClusType = '10' or ClusType = '15' or ClusType = '16';
TITLE 'Cluster Type Means Horizontal Bar Chart';
RUN;
PROC SGPLOT DATA = CLOTHING;
HBAR CC_Card;
TITLE 'Credit Card Transactions';
RUN;
PROC LOGISTIC DATA = CLOTHING DESCENDING;
MODEL Tot_Category = CC_Card Clus_1 Clus_4 Clus_8 Clus_10 Clus_15 Clus_16;
TITLE 'High Spending Binary Logistic Regression Analysis';
RUN;
PROC CORR DATA = CLOTHING PLOTS(MAXPOINTS=30000)=SCATTER PEARSON SPEARMAN;
VAR Tot_Spend;
WITH Number_of_Visits GMPCNT;
TITLE 'Quantitative Variable Correlation Analysis';
RUN;
QUIT;